(window.webpackJsonp=window.webpackJsonp||[]).push([[12],{603:function(e,t,n){e.exports={}},607:function(e,t,n){"use strict";n(603)},621:function(e,t,n){e.exports={}},627:function(e,t,n){"use strict";var r={name:"SfLoader",props:{loading:{default:!0,type:Boolean}}},d=(n(607),n(2)),component=Object(d.a)(r,(function(e,t){var n=t._c;return n("div",t._g(t._b({ref:t.data.ref,class:[t.data.class,t.data.staticClass,"sf-loader"],style:[t.data.style,t.data.staticStyle]},"div",t.data.attrs,!1),t.listeners),[n("transition",{attrs:{name:"sf-fade",mode:"out-in"}},[t.props.loading?n("div",{staticClass:"sf-loader__overlay"},[t._t("loader",(function(){return[n("svg",{staticClass:"sf-loader__spinner",attrs:{role:"img",width:"38",height:"38",viewBox:"0 0 38 38",xmlns:"http://www.w3.org/2000/svg"}},[n("title",[t._v("Loading...")]),t._v(" "),n("g",{attrs:{fill:"none","fill-rule":"evenodd"}},[n("g",{attrs:{transform:"translate(1 1)","stroke-width":"2"}},[n("circle",{attrs:{"stroke-opacity":".5",cx:"18",cy:"18",r:"18"}}),t._v(" "),n("path",{attrs:{d:"M36 18c0-9.94-8.06-18-18-18"}},[n("animateTransform",{attrs:{attributeName:"transform",type:"rotate",from:"0 18 18",to:"360 18 18",dur:"1s",repeatCount:"indefinite"}})],1)])])])]}))],2):t._t("default")],2)],1)}),[],!0,null,null,null);t.a=component.exports},645:function(e,t,n){"use strict";n(621)},702:function(e,t,n){"use strict";n.r(t);var r=n(5),d=(n(49),n(21)),o=n(25),l=n(183),c=n(627),v=n(598),f=n(652),m=n(653),_=n(28),y=n(1),h=n(13),w=n(241),A={name:"AdressBook",components:{SfButton:d.a,SfIcon:o.a,SfHeading:l.a,SfLoader:c.a,SfNotification:v.a,UserBillingAddress:m.a,BillingAddressForm:f.a},props:{title:{type:String,default:"Address Book"}},setup:function(){var e=Object(_.n)(),t=e.billing,n=e.load,d=e.addAddress,o=e.deleteAddress,l=e.updateAddress,c=e.loading,v=Object(y.a)((function(){return _.r.getAddresses(t.value)})),f=Object(y.j)(!1),m=Object(y.j)(void 0),A=Object(y.a)((function(){return!m.value})),k=Object(w.a)().send,C=function(){var e=Object(r.a)(regeneratorRuntime.mark((function e(address){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o({address:address}).then((function(){t.value?(n(),k({key:"address_removed",message:"Address has been removed successfully",type:"success",title:"Address removed!",icon:"check"})):k({key:"address_removed",message:"Something went wrong, please retry",type:"danger",title:"Remove address failed!"})}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),x=function(){var e=Object(r.a)(regeneratorRuntime.mark((function e(r){var form,o,c,v,_,data;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return form=r.form,o=r.onComplete,c=r.onError,e.prev=1,v=A.value?d:l,_="Addressbook updated successfully",A.value&&(_="Address added successfully"),e.next=7,v({address:form.value}).then((function(){t.value?(n(),k({key:"address_success",message:_,type:"success",title:"Success!",icon:"check"})):k({key:"address_failed",message:"Somethig went wrong, please retry",type:"danger",title:"Failed!"})}));case 7:return data=e.sent,f.value=!1,m.value=void 0,e.next=12,o(data);case 12:e.next=17;break;case 14:e.prev=14,e.t0=e.catch(1),c(e.t0);case 17:case"end":return e.stop()}}),e,null,[[1,14]])})));return function(t){return e.apply(this,arguments)}}();return Object(h.k)(Object(r.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n();case 2:case"end":return e.stop()}}),e)})))),{changeAddress:function(){var address=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0;m.value=address,f.value=!0},updateAddress:l,removeAddress:C,saveAddress:x,userBillingGetters:_.r,addresses:v,edittingAddress:f,activeAddress:m,isNewAddress:A,loading:c}},data:function(){return{visible:!1,addressToRemove:{}}},methods:{ConfirmRemove:function(address){this.visible=!0,this.addressToRemove=address},handleRemove:function(address){var e=this;return Object(r.a)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.isLoadervisible=!0,t.next=3,e.removeAddress(address).then((function(){e.visible=!1}));case 3:case"end":return t.stop()}}),t)})))()}}},k=A,C=(n(645),n(2)),component=Object(C.a)(k,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"my_account_content_wrap"},[n("div",{staticClass:"my_accoutn_title_wrap"},[n("SfHeading",{staticClass:"my_accoutn_title",attrs:{level:1,title:e.title}})],1),e._v(" "),e.edittingAddress?n("div",{staticClass:"tab-orphan"},[n("div",{attrs:{"data-cy":"billing-details-tab_change"}},[n("BillingAddressForm",{attrs:{address:e.activeAddress,"is-new":e.isNewAddress},on:{submit:e.saveAddress}})],1)]):n("div",{staticClass:"tab-orphan"},[n("transition",{attrs:{name:"sf-collapse-top",mode:"out-in"}},[n("div",{staticClass:"notifications"},[e.loading?e._e():n("SfNotification",{attrs:{visible:e.visible,title:"Are you sure?",message:"Are you sure you would like to remove this address from your account?",type:"secondary"},scopedSlots:e._u([{key:"action",fn:function(){return[n("div",{staticClass:"button-wrap"},[n("SfButton",{on:{click:function(t){return e.handleRemove(e.addressToRemove)}}},[e._v("Yes")]),e._v(" "),n("SfButton",{on:{click:function(t){e.visible=!1}}},[e._v("Cancel")])],1)]},proxy:!0},{key:"close",fn:function(){return[n("div")]},proxy:!0}],null,!1,1994956572)})],1)]),e._v(" "),e.loading?n("SfLoader",{staticClass:"address-loader",class:{loading:e.loading},attrs:{loading:e.loading}},[n("div")]):e._e(),e._v(" "),e.loading?e._e():n("div",{attrs:{"data-cy":"billing-details-tab_details"}},[n("div",{staticClass:"billing-list"},[e._l(e.addresses,(function(address){return n("div",{key:e.userBillingGetters.getId(address),staticClass:"billing"},[n("div",{staticClass:"billing__wrap"},[n("div",{staticClass:"billing__content"},[n("div",{staticClass:"billing__address"},[n("UserBillingAddress",{attrs:{address:address}})],1)]),e._v(" "),n("div",{staticClass:"billing__actions"},[n("SfButton",{staticClass:" sf-button--text",attrs:{"data-cy":"billing-details-btn_change"},on:{click:function(t){e.changeAddress(address),e.scrollToTop()}}},[e._v("\n                Edit\n              ")]),e._v(" "),n("SfButton",{staticClass:"billing__button-delete sf-button--text",attrs:{"data-cy":"billing-details-btn_delete"},on:{click:function(t){return e.ConfirmRemove(address)}}},[e._v("\n                Delete\n              ")])],1)])])})),e._v(" "),n("div",{staticClass:"billing add-address-btn"},[n("div",{staticClass:"billing__wrap",on:{click:function(t){e.changeAddress(),e.scrollToTop()}}},[n("SfButton",{staticClass:"action-button sf-button--text",attrs:{"data-cy":"billing-details-btn_add"}},[n("SfIcon",{attrs:{icon:"plus"}}),e._v("\n              Add Address\n            ")],1)],1)])],2)])],1)])}),[],!1,null,"5fa24fe5",null);t.default=component.exports}}]);