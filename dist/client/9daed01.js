(window.webpackJsonp=window.webpackJsonp||[]).push([[21],{691:function(t,e,r){t.exports={}},699:function(t,e,r){t.exports={}},747:function(t,e,r){"use strict";r(691)},771:function(t,e,r){"use strict";r(699)},795:function(t,e,r){"use strict";r.r(e);r(20),r(8),r(52),r(387),r(72);var d=r(243),n=r.n(d),o=function(t,e,r){var data={type:"orders",relationships:{billingAddress:{data:{type:"orderaddresses",id:"billing1"}},shippingAddress:{data:{type:"orderaddresses",id:"shipping1"}},lineItems:{data:[]}}};e.map((function(t){data.relationships.lineItems.data.push({type:"orderlineitems",id:t.id})}));var d=[{type:"orderaddresses",id:"billing1",relationships:{customerAddress:{data:{type:"customeraddresses",id:"1"}}}},{type:"orderaddresses",id:"shipping1",relationships:{customerAddress:{data:{type:"customeraddresses",id:"1"}}}}];e.map((function(t){d.push({type:"orderlineitems",id:t.id,attributes:{quantity:t.qty},relationships:{product:{data:{type:"products",id:t.id}},productUnit:{data:{type:"productunits",id:"item"}}}})})),n()({method:"GET",url:"/orders.js",headers:{token:t,data:JSON.stringify(data),included:JSON.stringify(d)}}).then((function(t){console.log(t),t.status&&r(!0)})).catch((function(t){return console.log(t)}))},c=function(t,e){var data={type:"rfqs",attributes:{firstName:"Ronald",lastName:"Rivera",email:"rrivera0@live.com",phone:"2-(999)507-4625",company:"Centidel",role:"senior manager",note:"Pellentesque at nulla.",poNumber:"CA9134USD",shipUntil:"2017-09-02"},relationships:{requestProducts:{data:[e.map((function(t){return{type:"rfqproducts",id:t.id}}))]},customerUser:{data:{type:"customerusers",id:"5"}},customer:{data:{type:"customers",id:"2"}}}};n()({method:"GET",url:"/getQuote.js",headers:{data:JSON.stringify(data),token:t}}).then((function(t){console.log(t)})).catch((function(t){return console.log(t)}))},l=function(t,e,r){n()({method:"GET",url:"/price-products.js",headers:{token:t,id:r}}).then((function(t){console.log(t),e(t.data.data.attributes.prices)})).catch((function(t){return console.log(t)}))},h=(r(51),r(5)),m=(r(49),function(){var t=Object(h.a)(regeneratorRuntime.mark((function t(e,r,d){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n()({method:"GET",url:"/product-search.js",headers:{token:e,sku:r}}).then((function(t){console.log(t),d(t.data.data)})).catch((function(t){return console.log(t)}));case 2:case"end":return t.stop()}}),t)})));return function(e,r,d){return t.apply(this,arguments)}}()),f=m,y={name:"QuickOrderRow",computed:{token:function(){return this.$cookies.get("_token")},productSku:function(){return this.$store.getters.getSkus},alertState:function(){return this.$store.getters.getAlert}},props:{productIndex:Number,priceFormat:String},data:function(){return{search:null,loading:!1,resultSearchItem:[],itemSku:"",qty:null}},methods:{querySelections:function(t){var e=this;this.loading=!0,setTimeout((function(){e.resultSearchItem=e.productSku.map((function(t){return t.attributes.sku}))||[],e.loading=!1}),500)},setSkus:function(t){this.$store.dispatch("setSkus",t)}},watch:{search:function(t){t&&(this.querySelections(t),f(this.token,t,this.setSkus))},itemSku:{handler:function(){this.$emit("update-order-data","sku",this.itemSku,this.productIndex),this.$emit("get-index",this.productIndex)}},qty:{handler:function(){this.$emit("update-order-data","qty",parseInt(this.qty),this.productIndex),this.$emit("get-index",this.productIndex)}},alertState:{handler:function(){this.alertState&&(this.itemSku="",this.qty=null)}}}},k=(r(747),r(2)),x=r(631),v=r.n(x),P=r(789),I=r(785),S=r(701),component=Object(k.a)(y,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("v-row",{staticClass:"rowMain"},[r("v-autocomplete",{staticClass:"mx-4",attrs:{loading:t.loading,items:t.resultSearchItem,"search-input":t.search,"hide-selected":"","hide-no-data":"","hide-details":"",outlined:"",placeholder:"Enter Product SKU"},on:{"update:searchInput":function(e){t.search=e},"update:search-input":function(e){t.search=e},focus:function(e){t.resultSearchItem=[]}},model:{value:t.itemSku,callback:function(e){t.itemSku=e},expression:"itemSku"}}),t._v(" "),r("v-text-field",{attrs:{placeholder:"Qty #",disabled:""===t.itemSku,outlined:"",type:"number"},model:{value:t.qty,callback:function(e){t.qty=e},expression:"qty"}}),t._v(" "),r("v-text-field",{attrs:{prefix:"$",outlined:"",disabled:""},model:{value:t.priceFormat,callback:function(e){t.priceFormat=e},expression:"priceFormat"}})],1)}),[],!1,null,null,null),w=component.exports;v()(component,{VAutocomplete:P.a,VRow:I.a,VTextField:S.a});var _={name:"QuickOrder",components:{QuickOrderRow:w},computed:{token:function(){return this.$cookies.get("_token")},productSku:function(){return this.$store.getters.getSkus},priceProduct:function(){return this.$store.getters.getPrice},alertState:function(){return this.$store.getters.getAlert}},data:function(){return{priceFormat:"",productIndex:null,selectedProducts:[{sku:"",qty:null,id:"",price:""}]}},methods:{productOptionSelected:function(t,e,r){this.selectedProducts[r][t]=e},addNewRow:function(){this.selectedProducts.push({sku:"",qty:null,id:"",price:""})},getProductIndex:function(t){this.productIndex=t},setPrice:function(t){this.$store.dispatch("setPrice",t)},setAlert:function(t){this.$store.dispatch("setAlert",t)},addProductSelected:function(){o(this.token,this.selectedProducts,this.setAlert)},getQuote:function(){c(this.token,this.selectedProducts)}},watch:{selectedProducts:{handler:function(){var t,e,r,d=this;null===(t=this.productSku)||void 0===t||t.filter((function(t){var e,r;return t.attributes.sku===(null===(e=d.selectedProducts[d.productIndex])||void 0===e?void 0:e.sku)&&(d.selectedProducts[d.productIndex].id=t.id),t.attributes.sku===(null===(r=d.selectedProducts[d.productIndex])||void 0===r?void 0:r.sku)})),null!==(e=this.selectedProducts[this.productIndex])&&void 0!==e&&e.sku&&l(this.token,this.setPrice,this.selectedProducts[this.productIndex].id),null!==(r=this.selectedProducts[this.productIndex])&&void 0!==r&&r.qty&&this.priceProduct.map((function(t){"1"===t.quantity?d.selectedProducts[d.productIndex].qty<10&&(d.selectedProducts[d.productIndex].price=(t.price*d.selectedProducts[d.productIndex].qty).toFixed(2)):"10"===t.quantity?d.selectedProducts[d.productIndex].qty>=10&&d.selectedProducts[d.productIndex].qty<20&&(d.selectedProducts[d.productIndex].price=(t.price*d.selectedProducts[d.productIndex].qty).toFixed(2)):"20"===t.quantity?d.selectedProducts[d.productIndex].qty>=20&&d.selectedProducts[d.productIndex].qty<50&&(d.selectedProducts[d.productIndex].price=(t.price*d.selectedProducts[d.productIndex].qty).toFixed(2)):"50"===t.quantity?d.selectedProducts[d.productIndex].qty>=50&&d.selectedProducts[d.productIndex].qty<100&&(d.selectedProducts[d.productIndex].price=(t.price*d.selectedProducts[d.productIndex].qty).toFixed(2)):"100"===t.quantity&&d.selectedProducts[d.productIndex].qty>=100&&(d.selectedProducts[d.productIndex].price=(t.price*d.selectedProducts[d.productIndex].qty).toFixed(2))}))},deep:!0},alertState:{handler:function(){var t=this;this.alertState&&(this.selectedProducts=[{sku:"",qty:null,id:"",price:""}]),setTimeout((function(){t.setAlert(!1)}),5e3)}}},middleware:"auth"},$=(r(771),r(815)),A=r(708),O=Object(k.a)(_,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{attrs:{"data-app":""}},[r("v-alert",{directives:[{name:"show",rawName:"v-show",value:t.alertState,expression:"alertState"}],attrs:{type:"success"}},[t._v("\n    The order was created correctly\n  ")]),t._v(" "),r("h1",[t._v("Quick Order Form")]),t._v(" "),t._l(t.selectedProducts,(function(e,d){return[r("QuickOrderRow",{key:d,attrs:{productIndex:d,priceFormat:e.price},on:{"update-order-data":t.productOptionSelected,"get-index":t.getProductIndex}})]})),t._v(" "),r("v-btn",{attrs:{elevation:"8",block:""},on:{click:t.addNewRow}},[t._v("Add More Rows")]),t._v(" "),r("div",{staticClass:"btn-section"},[r("v-btn",{attrs:{elevation:"8"},on:{click:t.getQuote}},[t._v("Get Quote")]),t._v(" "),r("v-btn",{attrs:{elevation:"8"},on:{click:t.addProductSelected}},[t._v("Create Order")])],1)],2)}),[],!1,null,"0c78ca0b",null);e.default=O.exports;v()(O,{VAlert:$.a,VBtn:A.a})}}]);